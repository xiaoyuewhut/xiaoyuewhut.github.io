---
title: 传递函数与稳定性
date: 2025-11-20 18:27:30
cover: https://cdn.jsdelivr.net/gh/xiaoyuewhut/image@main/%E7%94%9F%E6%88%90%E8%BD%AE%E8%83%8E%E5%9B%BE%E7%89%87.png
tags: 
- 控制理论
- 传递函数
categories: 控制
---

# 传递函数 Transfer Function
参考 https://www.bilibili.com/video/BV1Hb411a7kf/?spm_id_from=333.1387.collection.video_card.click&vd_source=1fb74e62770882303f4e822f4e981e4d
对于一个水池，有流入$q_{in}$和流出$q_{out}$的这样一个系统，可以描述它的微分方程为：

$$
\frac{\text{d}h}{\text{d}t} + \frac{g}{RA}h = \frac{q_{in}}{A}
$$
$h$是液面高度，$A$是水池底面积，$R$是流阻。

假如我们定义$A=1$，系统的状态$x=h$，控制输入$u=q_{in}$，则：
$$
\dot{x} + \dfrac{g}{R}x = u
$$

如果我们要分析系统状态$x$随$u$的变化情况，一种方法是求出这个微分方程的通解，然后去分析，听起来很不错，但过于理想化，复杂系统的求解也很麻烦。传递函数的诞生就是为了简化问题，从而解决这一麻烦。

我们对等式两边同时做拉普拉斯变换，得到：
$$ sX(s)+\dfrac{g}{R}X(s)=U(s) $$
从而：
$$
\dfrac{X(s)}{U(s)} = 
\dfrac{1}
{s+\dfrac{g}{R}} = 
G(s)
$$
这个$G(s)$就叫做传递函数 Transfer Function。所以你也就明白了，所谓传递函数，就是去表征控制量要如何控制，才能得到某个你期望的状态量。

进一步地，假设这个系统的输入是常数$u=C$，对它的拉普拉斯变换则为：
$$ U(s) = 
C\dfrac{1}{s} $$

因此，
$$X(s) = G(s) \cdot U(s)=
\dfrac{1}{s} \cdot \dfrac{1}{s+\dfrac{g}{R}} \cdot C$$
我们令分母为 0，得到：$s_1 = 0$和$s_2 = -\dfrac{g}{R}$，这两个点就称为极点 Poles，会用作后续的稳定性分析。

我们把$$X(s)$$变一下，变成：
$$X(s) = C \cdot \dfrac{R}{g}(
\dfrac{1}{s} - \dfrac{1}{s+\dfrac{g}{R}} )$$
对两边做拉普拉斯逆变换：
$$x(t)=C\cdot\dfrac{R}{g}\cdot
(e^{0t}-e^{-\frac{g}{R}t})$$
可见，当$t \rightarrow \infty$时，$x(t) \rightarrow \dfrac{CR}{g}$（从 0 初始状态上升，因为用拉普拉斯变换的时候已经默认了 0 初始条件）。

这个时候我们会发现，自然数$e$的幂，有两个系数，分别是$0$和$-\frac{g}{R}$，是不是也是前面提到的极点？
然后我们又要思考了，去设计控制算法，是不是就相当于配置极点？只要极点能在某个我想要的位置，系统的状态量也就能达到我想要的位置。
现在，我希望系统状态达到我期望的一个值$$x_d$$，那么是不是就是：
$$\dfrac{CR}{g} = x_d$$
从而$q_{in} = C = \dfrac{x_dg}{R}$，这是一个典型的开环控制，所谓开环 open loop，就是我预先知道一个目标，从一开始就确定了一个不变的控制策略，控制过程中没有状态误差反馈环节。

相反的概念则是闭环 closed loop，如下图所示，其中$H(s)$表示的是测量函数，所谓测量，就是在有的系统中，状态$x$可能并不是直接可以得到的，需要换算等等操作，所以就有这么个测量值。
![](https://cdn.jsdelivr.net/gh/xiaoyuewhut/image@main/cl.PNG)

因此，把方程写出来就是：
$$(V(s) - X(s)H(s)) D(s) G(s) = X(s)$$
$$VDG = X(1+HDG)$$
$$X = \dfrac{DG}{1+HDG}V$$
这个时候我们就得到了一个新的传递函数，其中的$D$就是我们需要设计的控制器 controller。

# 非零初始条件的传递函数

同样是$\dot{x}+ax=u$这个系统，两边做拉普拉斯变换：
$$sX(s) - x(0) + aX(s) = U(s)$$
$$\dfrac{X(s)}{U(S)+x(0)} = 
\dfrac{1}{s+a}$$
这个就是传递函数。

# 稳定性 Stability

需要记得平衡点 Equlibrium Point 的三种大致类别：
1. Unstable：一碰就飞
2. Stable：总能回到当初的位置
3. Maginal Stable：在有限范围内振荡

一般我们是去研究传递函数本身，从而研究系统的稳定性。前面我们提到一个闭环系统 closed loop system 的传递函数形式是：
$$G(s)_{cl} = 
\dfrac{DG}{1+HDG}$$
如果令传递函数的分母为 0，得到的$s$值称为极点 poles，如果令分母为 0，得到的就是零点 zeros。

我们知道，研究系统的稳定性，其实就是在研究系统的发散情况，假如我有两个极点$s_1$和$s_2$，那么时域下的系统可以写成：
$$x(t) = 
C_1 e^{s_1t} + 
C_2 e^{s_2t}$$
因此$s_1$和$s_2$的正负对系统的稳定性至关重要。

假如极点求出来是一对复数怎么办？——自行查阅推导过程，复数根会导致系统正弦函数形式的波动。这种情况我们要看实数根和复数根的正负情况。
用一个坐标图，横轴是实数根，纵轴是虚数根，在左半平面是发散，在右半平面是收敛；有虚数根就会振荡，只有虚数根是纯振荡，只有实数根没有振荡；
![](https://cdn.jsdelivr.net/gh/xiaoyuewhut/image@main/23ee0227-9b23-4c10-9f24-243798299f27.png)

因此我们极点配置的核心思路就是使闭环系统的传递函数分母$1+HDG = 0$求解出的poles落在左半平面。

# 根轨迹 Root Locus

反馈系统（线性时不变系统）的稳定性由其闭环极点唯一确定。反馈系统的闭环极点就是该系统特征方程的根。最简单的判稳方法是求特征方程的特征根，如果所有特征根都是负的，那么系统肯定是稳定的。

对于一阶、二阶系统而言，很简单，用求根公式解出来就行了；但是，对于高阶系统，如三阶、四阶的，用求根公式的方法行不通，求根过程会变得十分复杂，特别是在系统参数变化情况下求根，更是需要进行大量的运算，而且还不宜直观看出参数变化对系统闭环极点分布的影响。

根轨迹法不直接求解特征方程，而是用图解法来确定系统的闭环特征根。所谓根轨迹就是系统的某个参数连续变化时，闭环特征根在复平面上画出的轨迹，也就是是开环系统某一参数从零变化到无穷时，闭环特征根在复平面上变化的轨迹。
理解根轨迹是什么才是最重要的，手绘不重要，以下是一个matlab绘制根轨迹的事例：

```matlab
% 定义开环传递函数 G(s)H(s) = K(s+2)/(s(s+1)(s+3))
num = [1 2];         % 分子多项式系数 (s+2)
% 分母多项式 s(s+1)(s+3) = s^3 + 4s^2 + 3s
den = conv([1 0], conv([1 1], [1 3])); 
sys = tf(num, den);  % 建立传递函数模型

% 绘制根轨迹
figure;
rlocus(sys);         % 核心函数：绘制根轨迹
grid on;             % 显示网格
title('根轨迹图 G(s)H(s) = K(s+2)/(s(s+1)(s+3))');  % 添加标题
xlabel('实轴'); ylabel('虚轴');  % 坐标轴标注
hold on;
% 标记开环零点和极点
z = zero(sys);  % 获取零点
p = pole(sys);  % 获取极点
% 零点：蓝色圆圈
plot(z, zeros(size(z)), 'o', 'Color', 'blue', 'MarkerSize', 8); 
% 极点：红色叉号
plot(p, zeros(size(p)), 'x', 'Color', 'red', 'MarkerSize', 8); 
```

# 二阶系统的阻尼

常见的二阶系统传递函数的数学表达式$$G(s)$$如下：
$$G(s) = 
\dfrac
{\omega_n^2}
{s^2 + 2\zeta \omega_n s + \omega_n^2}$$
式中，$\omega_n$是无阻尼自然频率（Undamped Natural Frequency），单位为 rad/s，表征系统 “固有振动频率”（无阻尼时的振荡频率）；$\zeta$是阻尼比（Damping Ratio），无量纲参数，是描述 “阻尼强弱” 的核心指标，也是我们重点讨论的 “阻尼”。

在控制理论和系统动力学中，二阶系统的阻尼（Damping） 是描述系统能量耗散特性的核心参数，直接决定了系统在输入作用下的动态响应形态（如是否振荡、衰减速度等）。几乎所有振动或动态响应系统都可近似为二阶系统，因此理解阻尼的意义至关重要。

根据$\zeta$的值，有四种形态：过阻尼（overdamped）、欠阻尼（underdamped）、临界阻尼（critically damped）、无阻尼（undamped）（和不讨论的负阻尼 （Negative damping））
我们可以求出传递函数的极点：
$$s_{1,2} = -\zeta\omega_n \pm \omega_n\sqrt{\zeta^2 - 1}$$
根据极点的分布情况，相应的阶跃相应曲线如下图所示
![](https://cdn.jsdelivr.net/gh/xiaoyuewhut/image@main/01d44d07-2018-452b-9844-d5f1e8ac0628.png)

在这里面，我们应该关注的是欠阻尼 underdamped，系统有阻尼但不足，响应会先振荡，然后逐渐衰减至稳态值。其次，对于欠阻尼系统，我们应该关注的是：第一，超调量 overshoot，第一个峰值超过稳态值的比例，它仅与$\zeta$有关，$\zeta$越大，overshoot越小；第二，调节时间 Settling Time：响应进入稳态值附近 ±2\%（或 ±5\%）范围内的时间，$\zeta$过小会导致setting time时间长，$\zeta$过大导致响应迟缓。

大多数工程系统的设计目标，允许一定振荡但需快速稳定，例如汽车悬挂系统，既不能完全无阻尼导致剧烈颠簸，也不能过阻尼导致反应迟缓。